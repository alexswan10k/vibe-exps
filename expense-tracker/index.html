<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Expense Tracker</h1>
        <nav>
            <button id="peopleTab" class="tab active">People</button>
            <button id="expensesTab" class="tab">Expenses</button>
            <button id="paymentsTab" class="tab">Payments</button>
            <button id="balancesTab" class="tab">Balances</button>
            <button id="ledgerTab" class="tab">Ledger</button>
            <button id="importExportTab" class="tab">Import/Export</button>
        </nav>
    </header>

    <main>
        <!-- People Tab -->
        <section id="peopleSection" class="section active">
            <h2>Manage People</h2>
            <form id="addPersonForm">
                <div>
                    <label for="personName">Person Name:</label>
                    <input type="text" id="personName" placeholder="Enter person's name" required>
                </div>
                <div>
                    <label for="initialBalance">Initial Balance ($):</label>
                    <input type="number" id="initialBalance" placeholder="0.00" step="0.01" value="0">
                </div>
                <button type="submit">Add Person</button>
            </form>
            <div id="peopleList"></div>
        </section>

        <!-- Expenses Tab -->
        <section id="expensesSection" class="section">
            <h2>Add Expense</h2>
            <form id="addExpenseForm">
                <div>
                    <label for="expensePayee">Who Paid:</label>
                    <select id="expensePayee" required>
                        <option value="">Select Payee</option>
                    </select>
                </div>
                <div>
                    <label for="expenseAmount">Amount ($):</label>
                    <input type="number" id="expenseAmount" placeholder="0.00" step="0.01" required>
                </div>
                <div>
                    <label for="expenseDescription">Description:</label>
                    <input type="text" id="expenseDescription" placeholder="What was purchased?" required>
                </div>
                <div>
                    <label for="expenseDate">Date:</label>
                    <input type="date" id="expenseDate" required>
                </div>
                <div>
                    <label for="expenseIcon">Category:</label>
                    <select id="expenseIcon">
                        <option value="üí°">üí° Utilities</option>
                        <option value="üçΩÔ∏è">üçΩÔ∏è Food</option>
                        <option value="üöó">üöó Transportation</option>
                        <option value="üé¨">üé¨ Entertainment</option>
                        <option value="üõí">üõí Shopping</option>
                        <option value="üè•">üè• Medical</option>
                        <option value="üì¶">üì¶ Other</option>
                    </select>
                </div>
                <div>
                    <label for="expenseTemplate">Split Method:</label>
                    <select id="expenseTemplate">
                        <option value="">Custom Split</option>
                        <option value="equal">Equal Split</option>
                        <option value="water">Water Bill (50/50)</option>
                    </select>
                </div>
                <div id="splitInputs"></div>
                <button type="submit">Add Expense</button>
            </form>
            <div id="expensesList"></div>
        </section>

        <!-- Payments Tab -->
        <section id="paymentsSection" class="section">
            <h2>Make Payment</h2>
            <form id="addPaymentForm">
                <div>
                    <label for="paymentFrom">From:</label>
                    <select id="paymentFrom" required>
                        <option value="">Select Person</option>
                    </select>
                </div>
                <div>
                    <label for="paymentTo">To:</label>
                    <select id="paymentTo" required>
                        <option value="">Select Person</option>
                    </select>
                </div>
                <div>
                    <label for="paymentAmount">Amount ($):</label>
                    <input type="number" id="paymentAmount" placeholder="0.00" step="0.01" required>
                </div>
                <div>
                    <label for="paymentDescription">Description:</label>
                    <input type="text" id="paymentDescription" placeholder="Payment description" required>
                </div>
                <div>
                    <label for="paymentDate">Date:</label>
                    <input type="date" id="paymentDate" required>
                </div>
                <button type="submit">Make Payment</button>
            </form>
        </section>

        <!-- Balances Tab -->
        <section id="balancesSection" class="section">
            <h2>Current Balances</h2>
            <div id="balancesList"></div>
        </section>

        <!-- Ledger Tab -->
        <section id="ledgerSection" class="section">
            <h2>Transaction Ledger</h2>
            <div id="ledgerFilters">
                <div>
                    <label for="ledgerTypeFilter">Transaction Type:</label>
                    <select id="ledgerTypeFilter">
                        <option value="">All Types</option>
                        <option value="expense">Expenses</option>
                        <option value="payment">Payments</option>
                    </select>
                </div>
                <div>
                    <label for="ledgerPersonFilter">Person:</label>
                    <select id="ledgerPersonFilter">
                        <option value="">All People</option>
                    </select>
                </div>
                <div>
                    <label for="ledgerStartDate">Start Date:</label>
                    <input type="date" id="ledgerStartDate">
                </div>
                <div>
                    <label for="ledgerEndDate">End Date:</label>
                    <input type="date" id="ledgerEndDate">
                </div>
                <div>
                    <button id="applyFilters">Apply Filters</button>
                    <button id="clearFilters">Clear Filters</button>
                </div>
            </div>
            <div id="ledgerList"></div>
            <div id="ledgerPagination">
                <button id="prevPage">Previous</button>
                <span id="pageInfo">Page 1 of 1</span>
                <button id="nextPage">Next</button>
            </div>
        </section>

        <!-- Import/Export Tab -->
        <section id="importExportSection" class="section">
            <h2>Import/Export Data</h2>
            <button id="exportData">Export to JSON</button>
            <div>
                <label for="importFile">Import JSON File:</label>
                <input type="file" id="importFile" accept=".json">
            </div>
            <button id="importData">Import from JSON</button>
        </section>
    </main>

    <!-- Edit Expense Modal -->
    <div id="editExpenseModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('editExpenseModal').style.display='none'">&times;</span>
            <h2>Edit Expense</h2>
            <form id="editExpenseForm">
                <div>
                    <label for="editExpensePayee">Who Paid:</label>
                    <select id="editExpensePayee" required>
                        <option value="">Select Payee</option>
                    </select>
                </div>
                <div>
                    <label for="editExpenseAmount">Amount ($):</label>
                    <input type="number" id="editExpenseAmount" placeholder="0.00" step="0.01" required>
                </div>
                <div>
                    <label for="editExpenseDescription">Description:</label>
                    <input type="text" id="editExpenseDescription" placeholder="What was purchased?" required>
                </div>
                <div>
                    <label for="editExpenseDate">Date:</label>
                    <input type="date" id="editExpenseDate" required>
                </div>
                <div>
                    <label for="editExpenseIcon">Category:</label>
                    <select id="editExpenseIcon">
                        <option value="üí°">üí° Utilities</option>
                        <option value="üçΩÔ∏è">üçΩÔ∏è Food</option>
                        <option value="üöó">üöó Transportation</option>
                        <option value="üé¨">üé¨ Entertainment</option>
                        <option value="üõí">üõí Shopping</option>
                        <option value="üè•">üè• Medical</option>
                        <option value="üì¶">üì¶ Other</option>
                    </select>
                </div>
                <div id="editSplitInputs"></div>
                <button type="submit">Update Expense</button>
            </form>
        </div>
    </div>

    <!-- Repeat Expense Modal -->
    <div id="repeatExpenseModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('repeatExpenseModal').style.display='none'">&times;</span>
            <h2>Repeat Expense</h2>
            <form id="repeatExpenseForm">
                <div>
                    <label for="repeatAmount">Total Amount ($):</label>
                    <input type="number" id="repeatAmount" placeholder="0.00" step="0.01" required>
                </div>
                <div>
                    <label for="repeatDescription">Description:</label>
                    <input type="text" id="repeatDescription" placeholder="What was purchased?" required>
                </div>
                <div>
                    <label for="repeatDate">Date:</label>
                    <input type="date" id="repeatDate" required>
                </div>
                <div>
                    <label for="repeatIcon">Category:</label>
                    <select id="repeatIcon">
                        <option value="üí°">üí° Utilities</option>
                        <option value="üçΩÔ∏è">üçΩÔ∏è Food</option>
                        <option value="üöó">üöó Transportation</option>
                        <option value="üé¨">üé¨ Entertainment</option>
                        <option value="üõí">üõí Shopping</option>
                        <option value="üè•">üè• Medical</option>
                        <option value="üì¶">üì¶ Other</option>
                    </select>
                </div>
                <p><em>Split proportions will be maintained from the original expense</em></p>
                <button type="submit">Confirm & Add Expense</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
