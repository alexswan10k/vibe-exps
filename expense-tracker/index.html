<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Expense Tracker</h1>
        <nav>
            <button id="peopleTab" class="tab active">People</button>
            <button id="expensesTab" class="tab">Expenses</button>
            <button id="paymentsTab" class="tab">Payments</button>
            <button id="balancesTab" class="tab">Balances</button>
            <button id="ledgerTab" class="tab">Ledger</button>
            <button id="importExportTab" class="tab">Import/Export</button>
        </nav>
    </header>

    <main>
        <!-- People Tab -->
        <section id="peopleSection" class="section active">
            <h2>Manage People</h2>
            <form id="addPersonForm">
                <input type="text" id="personName" placeholder="Person Name" required>
                <input type="number" id="initialBalance" placeholder="Initial Balance" step="0.01" value="0">
                <button type="submit">Add Person</button>
            </form>
            <div id="peopleList"></div>
        </section>

        <!-- Expenses Tab -->
        <section id="expensesSection" class="section">
            <h2>Add Expense</h2>
            <form id="addExpenseForm">
                <select id="expensePayee" required>
                    <option value="">Select Payee</option>
                </select>
                <input type="number" id="expenseAmount" placeholder="Amount" step="0.01" required>
                <input type="text" id="expenseDescription" placeholder="Description" required>
                <input type="date" id="expenseDate" required>
                <select id="expenseIcon">
                    <option value="💡">💡 Utilities</option>
                    <option value="🍽️">🍽️ Food</option>
                    <option value="🚗">🚗 Transportation</option>
                    <option value="🎬">🎬 Entertainment</option>
                    <option value="🛒">🛒 Shopping</option>
                    <option value="🏥">🏥 Medical</option>
                    <option value="📦">📦 Other</option>
                </select>
                <select id="expenseTemplate">
                    <option value="">Custom Split</option>
                    <option value="equal">Equal Split</option>
                    <option value="water">Water Bill (50/50)</option>
                </select>
                <div id="splitInputs"></div>
                <button type="submit">Add Expense</button>
            </form>
            <div id="expensesList"></div>
        </section>

        <!-- Payments Tab -->
        <section id="paymentsSection" class="section">
            <h2>Make Payment</h2>
            <form id="addPaymentForm">
                <select id="paymentFrom" required>
                    <option value="">From</option>
                </select>
                <select id="paymentTo" required>
                    <option value="">To</option>
                </select>
                <input type="number" id="paymentAmount" placeholder="Amount" step="0.01" required>
                <input type="text" id="paymentDescription" placeholder="Description" required>
                <input type="date" id="paymentDate" required>
                <button type="submit">Make Payment</button>
            </form>
        </section>

        <!-- Balances Tab -->
        <section id="balancesSection" class="section">
            <h2>Current Balances</h2>
            <div id="balancesList"></div>
        </section>

        <!-- Ledger Tab -->
        <section id="ledgerSection" class="section">
            <h2>Transaction Ledger</h2>
            <div id="ledgerFilters">
                <select id="ledgerTypeFilter">
                    <option value="">All Types</option>
                    <option value="expense">Expenses</option>
                    <option value="payment">Payments</option>
                </select>
                <select id="ledgerPersonFilter">
                    <option value="">All People</option>
                </select>
                <input type="date" id="ledgerStartDate">
                <input type="date" id="ledgerEndDate">
                <button id="applyFilters">Apply Filters</button>
                <button id="clearFilters">Clear Filters</button>
            </div>
            <div id="ledgerList"></div>
            <div id="ledgerPagination">
                <button id="prevPage">Previous</button>
                <span id="pageInfo">Page 1 of 1</span>
                <button id="nextPage">Next</button>
            </div>
        </section>

        <!-- Import/Export Tab -->
        <section id="importExportSection" class="section">
            <h2>Import/Export Data</h2>
            <button id="exportData">Export to JSON</button>
            <input type="file" id="importFile" accept=".json">
            <button id="importData">Import from JSON</button>
        </section>
    </main>

    <!-- Edit Expense Modal -->
    <div id="editExpenseModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('editExpenseModal').style.display='none'">&times;</span>
            <h2>Edit Expense</h2>
            <form id="editExpenseForm">
                <select id="editExpensePayee" required>
                    <option value="">Select Payee</option>
                </select>
                <input type="number" id="editExpenseAmount" placeholder="Amount" step="0.01" required>
                <input type="text" id="editExpenseDescription" placeholder="Description" required>
                <input type="date" id="editExpenseDate" required>
                <select id="editExpenseIcon">
                    <option value="💡">💡 Utilities</option>
                    <option value="🍽️">🍽️ Food</option>
                    <option value="🚗">🚗 Transportation</option>
                    <option value="🎬">🎬 Entertainment</option>
                    <option value="🛒">🛒 Shopping</option>
                    <option value="🏥">🏥 Medical</option>
                    <option value="📦">📦 Other</option>
                </select>
                <div id="editSplitInputs"></div>
                <button type="submit">Update Expense</button>
            </form>
        </div>
    </div>

    <!-- Repeat Expense Modal -->
    <div id="repeatExpenseModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('repeatExpenseModal').style.display='none'">&times;</span>
            <h2>Repeat Expense</h2>
            <form id="repeatExpenseForm">
                <input type="number" id="repeatAmount" placeholder="Total Amount" step="0.01" required>
                <input type="text" id="repeatDescription" placeholder="Description" required>
                <input type="date" id="repeatDate" required>
                <select id="repeatIcon">
                    <option value="💡">💡 Utilities</option>
                    <option value="🍽️">🍽️ Food</option>
                    <option value="🚗">🚗 Transportation</option>
                    <option value="🎬">🎬 Entertainment</option>
                    <option value="🛒">🛒 Shopping</option>
                    <option value="🏥">🏥 Medical</option>
                    <option value="📦">📦 Other</option>
                </select>
                <p><em>Split proportions will be maintained from the original expense</em></p>
                <button type="submit">Confirm & Add Expense</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
